From 44fba8edf45b25a807dc229b57b7a26797a6148e Mon Sep 17 00:00:00 2001
From: Emmanuele Bassi <ebassi@gnome.org>
Date: Thu, 20 Apr 2017 10:14:36 +0100
Subject: [PATCH] Implement build-api wrapper

See: https://github.com/cgwalters/build-api/
---
 Makefile  | 10 ++++++++++
 configure |  4 ++++
 2 files changed, 14 insertions(+)
 create mode 100644 Makefile
 create mode 100755 configure

diff --git a/Makefile b/Makefile
new file mode 100644
index 0000000..1463d08
--- /dev/null
+++ b/Makefile
@@ -0,0 +1,10 @@
+# Override this so that we don't get the distutils compiler, which was
+# cross built for yocto, but we want self-hosting builds.
+CC ?= gcc
+
+all:
+	env CC=$(CC) python2 setup.py build
+
+install:
+	python2 setup.py install --root=$(DESTDIR)
+
diff --git a/configure b/configure
new file mode 100755
index 0000000..04d1432
--- /dev/null
+++ b/configure
@@ -0,0 +1,4 @@
+#!/bin/bash
+# http://people.gnome.org/~walters/docs/build-api.txt
+#buildapi-variable-no-builddir
+exec true
-- 
2.12.2

