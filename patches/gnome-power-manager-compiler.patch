From a11204cc92142ac5db2c16d089e61457c6a08d12 Mon Sep 17 00:00:00 2001
From: Emmanuele Bassi <ebassi@gnome.org>
Date: Sat, 18 Mar 2017 17:28:49 +0000
Subject: [PATCH] Enforce gcc as the compiler

Otherwise Continuous will attempt to use ccache with a read-only file
system:

ccache: error: Failed to create directory //.ccache/tmp: Read-only file system
---
 configure | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/configure b/configure
index b2a07543..cdc436d4 100755
--- a/configure
+++ b/configure
@@ -103,7 +103,7 @@ cat > Makefile <<END
 # Generated by configure; do not edit
 
 all:
-	CC="\$(CC)" CXX="\$(CXX)" ${NINJA}
+	CC="gcc" ${NINJA}
 
 install:
 	DESTDIR="\$(DESTDIR)" ${NINJA} install
@@ -125,6 +125,7 @@ echo "  includedir:.. ${includedir}"
 echo "  additional:.."
 echo "    - ${enable_docs} ${enable_man} ${enable_introspection}"
 
+export CC=gcc
 exec ${MESON} \
 	--prefix=${prefix} \
 	--libdir=${libdir} \
-- 
2.12.1

